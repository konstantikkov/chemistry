{"version":3,"sources":["components/block/index.jsx","components/grid-wrapper/index.jsx","components/grid-wrapper/grid-cell/index.jsx","components/image-loader/index.jsx","components/button/index.jsx","assets/kurisu_smile.svg","assets/index.js","assets/kurisu_sad.svg","assets/kurisu_finger.svg","components/text-input/index.jsx","__data__/action-types.js","__data__/actions/index.js","pages/intro-screen/step-1/index.jsx","__data__/selectors/index.js","pages/intro-screen/step-2/index.jsx","components/main-container/index.jsx","components/background/index.jsx","components/icons/index.js","components/icons/arrow.svg","components/icons/checkmark.svg","components/icons/recycle.svg","components/icons/cross.svg","components/status-title/index.jsx","components/title/index.jsx","components/flex-wrapper/index.jsx","pages/status-screen/index.jsx","components/workspace-flask/index.jsx","components/drag-field/drag-flask/index.jsx","components/drag-field/drag-item/index.jsx","components/drag-field/index.jsx","components/drag-field/drop-field/index.jsx","components/task/index.jsx","pages/level-screen/index.jsx","components/notification/index.jsx","levels/index.js","pages/workflow.jsx","__data__/reducers/index.js","__data__/store.js","App.js","index.js"],"names":["Block","title","description","children","isFlex","shake","mode","className","style","display","GridWrapper","GridCell","ImageLoader","image","src","Button","handler","level","size","onClick","IMAGE_DICTIONARY","kurisu_sad","kurisu_smile","kurisu_finger","getImage","name","TextInput","placeholder","state","setState","value","onChange","event","target","SET_CLIENT_NAME","Symbol","SET_NEXT_STAGE","SET_PREV_STAGE","SET_STATUS","SET_LEVEL","SET_STATISTIC","fetchStatus","status","type","fetchStatistic","statistic","localStorage","setItem","JSON","stringify","gridTemplateColumns","gridTemplateRows","Step1","next","setFlag","useState","setName","dispatch","useDispatch","gridRowStart","gridRowEnd","setTimeout","data","parse","getItem","clientName","fetchClientName","getClientName","default","getStatus","getLevel","getStatistic","Step2","useSelector","console","log","MainContainer","stage","Background","theme","ICON_DICTIONARY","arrow","checkmark","recycle","cross","IconLoader","icon","marginLeft","StatusTitle","Title","FlexWrapper","direction","height","StatusScreen","score","prev","gridColumnStart","gridColumnEnd","success","error","last","width","conf","fov","cameraZ","xyCoef","zCoef","lightIntensity","ambientColor","light1Color","light2Color","light3Color","light4Color","Scene","props","initScene","bind","initLights","animatePlane","animateLights","updateLightsColors","renderer","THREE","antialias","alpha","setSize","camera","position","z","aspect","simplex","SimplexNoise","animate","this","scene","group","middle_","waters","material","metalness","roughness","refractionRatio","transparent","opacity","transmission","side","clearcoat","clearcoatRoughness","middle","add","layers","forEach","layer","key","createLayer","y","level_","mount","appendChild","domElement","mat","color","properties","water_","push","prevProps","cancelAnimationFrame","frameId","removeChild","water","wArray","geometry","attributes","array","time","Date","now","i","length","noise4D","mArray","needsUpdate","computeBoundingSphere","lightDistance","light1","set","light2","light3","light4","d","x","Math","sin","cos","chroma","random","hex","requestAnimationFrame","render","ref","Component","DragFlask","mat_solid","mat_liquid","geo","thing","type_","noise3D","DragItem","id","select","setMouse","deselect","setDragValue","drag","isSelected","visible","setVisible","onStart","onStop","onTouchMove","changedTouches","clientX","clientY","onMouseMove","DragField","items","bottle","Object","entries","map","item","DropField","mouse","setHoverFlag","useRef","rect","setRect","useEffect","current","getBoundingClientRect","right","left","top","bottom","Task","connect","setBottle","setError_","hover","setHover","setDrag","dragValue","setMouse_","useCallback","setError","pointsFail","errors","flag","components","temp","assign","task","values","keys","pointsSuccess","Notification","text","setAlert","levels","clientId","level_prev","level_num","background","setBackground","alert","stages","floor","nextLevel","setLevel","CSSTransition","in","unmountOnExit","timeout","classNames","defaultState","action","types","createStore","reducer","reducers","combineReducers","form","formReducer","appReducers","createReducer","composedEnhancer","compose","applyMiddleware","thunkMiddleware","createReduxStore","App","store","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.428e3d2e.chunk.js","sourcesContent":["import React from 'react'\r\nimport './index.css'\r\n\r\nexport const Block = ({title, description, children, isFlex, shake, mode}) => {\r\n    return(\r\n        <div className={`Block ${shake?'Shake':''} ${mode?'Toxic':'Fire'}`} style={isFlex?{display: 'flex'}:{}}>\r\n            {\r\n                title&&<h1>{title}</h1>\r\n            }\r\n            {\r\n                description&&<p>{description}</p>\r\n            }\r\n            {\r\n                children\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport const GridWrapper = ({style, children}) => <div className='GridWrapper' style={style}>{children}</div>\r\n","import React from 'react'\r\n\r\nexport const GridCell = ({style, children}) => <div className='GridCell' style={style}>{children}</div>","import React from 'react'\r\nimport './index.css'\r\n\r\nexport const ImageLoader = ({image, style}) => <img className='Image' style={style} src={image} />\r\n","import React from 'react'\r\nimport './index.css'\r\n\r\nexport const Button = ({title, handler, level, size='lg'}) => <div onClick={handler} className={`Button ${level}`}><div className={`Title ${size}`}>{title}</div></div>\r\n","export default __webpack_public_path__ + \"static/media/kurisu_smile.4879e1b6.svg\";","import kurisu_smile from './kurisu_smile.svg'\r\nimport kurisu_sad from './kurisu_sad.svg'\r\nimport kurisu_finger from './kurisu_finger.svg'\r\n\r\nconst IMAGE_DICTIONARY = {\r\n    kurisu_sad,\r\n    kurisu_smile,\r\n    kurisu_finger\r\n}\r\n\r\nexport const getImage = (name) => IMAGE_DICTIONARY[name]\r\n","export default __webpack_public_path__ + \"static/media/kurisu_sad.ca0b9b80.svg\";","export default __webpack_public_path__ + \"static/media/kurisu_finger.3e616d0f.svg\";","import React from 'react'\r\nimport './index.css'\r\n\r\nexport const TextInput = ({placeholder, state, setState, size}) => {\r\n    const handler = (event) => setState(event.target.value)\r\n\r\n    return(\r\n        <input\r\n            className={`TextInput ${size}`}\r\n            placeholder={placeholder}\r\n            value={state}\r\n            onChange={handler}\r\n        />\r\n    )\r\n}\r\n","export const SET_CLIENT_NAME = Symbol('SET_CLIENT_NAME')\r\nexport const SET_NEXT_STAGE = Symbol('SET_NEXT_STAGE')\r\nexport const SET_PREV_STAGE = Symbol('SET_PREV_STAGE')\r\nexport const SET_STATUS = Symbol('SET_STATUS')\r\nexport const SET_LEVEL = Symbol('SET_LEVEL')\r\nexport const SET_STATISTIC = Symbol('SET_STATISTIC')","import {\r\n    SET_CLIENT_NAME,\r\n    SET_PREV_STAGE,\r\n    SET_NEXT_STAGE,\r\n    SET_STATUS,\r\n    SET_STATISTIC,\r\n    SET_LEVEL\r\n} from '../action-types'\r\n\r\nexport const fetchClientName = (name) => {\r\n    const data = JSON.parse(localStorage.getItem('clientName'))\r\n    localStorage.setItem('clientName',name)\r\n    return {type: SET_CLIENT_NAME, clientName: data?.clientName ?? name}\r\n}\r\n\r\nexport const setLevel = (level, level_num) => {\r\n    return ({type: SET_LEVEL, level: level, level_num: level_num})\r\n}\r\n\r\nexport const fetchStatus = (status) => {\r\n    return {type: SET_STATUS, status: status}\r\n}\r\n\r\nexport const fetchStatistic = (statistic) => {\r\n    localStorage.setItem('statistic', JSON.stringify(statistic))\r\n    return {type: SET_STATISTIC, statistic: statistic}\r\n}\r\n\r\nexport const nextStage = () => {\r\n    return ({type: SET_NEXT_STAGE})\r\n}\r\n\r\nexport const prevStage = () => {\r\n    return ({type: SET_PREV_STAGE})\r\n}","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport {Block} from \"../../../components/block\";\r\nimport {GridWrapper} from \"../../../components/grid-wrapper\";\r\nimport {GridCell} from \"../../../components/grid-wrapper/grid-cell\";\r\nimport {ImageLoader} from \"../../../components/image-loader\";\r\nimport {Button} from \"../../../components/button\";\r\nimport {getImage} from \"../../../assets\";\r\nimport {TextInput} from \"../../../components/text-input\";\r\nimport {fetchClientName} from \"../../../__data__/actions\";\r\n\r\n\r\nconst style = {\r\n    gridTemplateColumns: '30% 70%',\r\n    gridTemplateRows: '80% 20%'\r\n}\r\n\r\nconst Step1 = ({next, setFlag}) => {\r\n    const [name, setName] = useState('')\r\n    const dispatch = useDispatch()\r\n    const submitName = () => {\r\n        setFlag(false)\r\n        setTimeout(()=>{\r\n            dispatch(fetchClientName(name))\r\n            next()\r\n        }, 1000)\r\n    }\r\n\r\n    return(\r\n        <GridWrapper style={style}>\r\n            <GridCell style={{gridRowStart: 1, gridRowEnd: 3}}>\r\n                <Block>\r\n                    <ImageLoader image={getImage('kurisu_smile')}/>\r\n                </Block>\r\n            </GridCell>\r\n            <Block title={'Привет, ты новенький?'} description={`Сейчас у нас урок химии и мы перходим в лабораторию. Будет очень интересно! Представься классу, чтобы приступить к занятию.`}>\r\n                <TextInput placeholder='Как тебя зовут?' size='md' state={name} setState={setName}></TextInput>\r\n            </Block>\r\n            <Button handler={submitName} title={'Продолжить'}/>\r\n        </GridWrapper>\r\n    )\r\n}\r\n\r\nexport default Step1","export const getClientName = (state) => state?.default?.clientName\r\nexport const getStatus = (state) => state?.default?.status\r\nexport const getLevel = (state) => state?.default?.level\r\nexport const getStatistic = (state) => state?.default?.statistic","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport {Block} from \"../../../components/block\";\r\nimport {GridWrapper} from \"../../../components/grid-wrapper\";\r\nimport {GridCell} from \"../../../components/grid-wrapper/grid-cell\";\r\nimport {ImageLoader} from \"../../../components/image-loader\";\r\nimport {Button} from \"../../../components/button\";\r\nimport {getImage} from \"../../../assets\";\r\nimport {getClientName} from \"../../../__data__/selectors\";\r\n\r\nconst style = {\r\n    gridTemplateColumns: '30% 70%',\r\n    gridTemplateRows: '80% 20%'\r\n}\r\n\r\nexport const Step2 = ({next, setFlag}) => {\r\n    const clientName = useSelector(getClientName)\r\n    const handler = () => {\r\n        setFlag(false)\r\n        console.log(11111111)\r\n        setTimeout(()=>{\r\n            next()\r\n        }, 1000)\r\n    }\r\n\r\n    return(\r\n        <GridWrapper style={style}>\r\n            <GridCell style={{gridRowStart: 1, gridRowEnd: 3}}>\r\n                <Block>\r\n                    <ImageLoader image={getImage('kurisu_smile')}/>\r\n                </Block>\r\n            </GridCell>\r\n            <Block title={`А вот и лабратория, ${clientName}!`} description={`Ну что же, сегодня у нас урок по эксперементам с неорганической химией! Вы ее все уже знаете, так что надеюсь, вы не спалите школу:)\r\n             Кто может нам продемонстрировать, как протекают реакции на доске? О может ${clientName} сейчас покажет?`} />\r\n            <Button title={'Начать'} handler={handler}/>\r\n        </GridWrapper>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport './index.css'\r\n\r\nexport const MainContainer = ({stage, children}) => <div className='MainContainer'>{children}</div>","import React from 'react'\r\nimport './index.css'\r\n\r\nexport const Background = ({theme, children}) => <div className={`Background ${theme}`} >{children}</div>","import './index.css'\r\n\r\nimport arrow from './arrow.svg'\r\nimport checkmark from './checkmark.svg'\r\nimport recycle from './recycle.svg'\r\nimport cross from './cross.svg'\r\n\r\nconst ICON_DICTIONARY = {\r\n    arrow: arrow,\r\n    checkmark: checkmark,\r\n    recycle: recycle,\r\n    cross: cross\r\n}\r\n\r\nexport const IconLoader = ({icon, size='sm'}) => {\r\n    return <img className={`Icon${size}`} src={ICON_DICTIONARY[icon]}/>\r\n}","export default __webpack_public_path__ + \"static/media/arrow.87f695ec.svg\";","export default __webpack_public_path__ + \"static/media/checkmark.21ebb7ec.svg\";","export default __webpack_public_path__ + \"static/media/recycle.234b1bb4.svg\";","export default __webpack_public_path__ + \"static/media/cross.4127f50e.svg\";","import React from 'react'\r\nimport './index.css'\r\n\r\nimport {IconLoader} from \"../icons\";\r\n\r\nconst style = {\r\n    marginLeft: '12px'\r\n}\r\n\r\nexport const StatusTitle = ({level, title}) =>\r\n    <div className='StatusTitle'>\r\n        <IconLoader size='md' icon={level=='error'?'cross':'checkmark'}/>\r\n        <h1 style={style} className={level=='error'?'Error':'Success'}>{title}</h1>\r\n    </div>","import React from 'react'\r\nimport './index.css'\r\n\r\nexport const Title = ({value, size='sm', level}) => <div className={`Title ${size} ${level}`}>{value}</div>","import React from 'react'\r\nimport './index.css'\r\n\r\nexport const FlexWrapper = ({children, direction}) => {\r\n    return(<div className={`FlexWrapper${direction??'Horizontal'}`}>\r\n        {\r\n            children\r\n        }\r\n    </div>)\r\n}","import React from 'react'\r\nimport { connect, useDispatch, useSelector } from 'react-redux'\r\nimport {GridWrapper} from \"../../components/grid-wrapper\";\r\nimport {GridCell} from \"../../components/grid-wrapper/grid-cell\";\r\nimport {Block} from \"../../components/block\";\r\nimport {Button} from \"../../components/button\";\r\nimport {StatusTitle} from \"../../components/status-title\";\r\nimport {getClientName, getStatistic, getStatus} from \"../../__data__/selectors\";\r\nimport {Title} from \"../../components/title\";\r\nimport {FlexWrapper} from \"../../components/flex-wrapper\";\r\nimport {ImageLoader} from \"../../components/image-loader\";\r\nimport {getImage} from \"../../assets\";\r\n\r\nconst style = {\r\n    gridTemplateColumns: '50% 50%',\r\n    gridTemplateRows: '20% 60% 20%',\r\n    height: '70%'\r\n}\r\n\r\nexport const StatusScreen = ({ score, prev, setFlag}) => {\r\n    const status = useSelector(getStatus)\r\n    const statistic = useSelector(getStatistic)\r\n    const clientName = useSelector(getClientName)\r\n    const newLevel = () => {\r\n        setFlag(false)\r\n        setTimeout(()=>{\r\n            prev()\r\n        }, 1000)\r\n    }\r\n\r\n    const restartLevel = () => {\r\n        setFlag(false)\r\n        setTimeout(()=>{\r\n            prev()\r\n        }, 1000)\r\n    }\r\n    return(\r\n        <GridWrapper style={style}>\r\n            <GridCell style={{gridColumnStart: 1, gridColumnEnd: 3}}>\r\n                <Block isFlex>\r\n                    <StatusTitle title={status=='error'? 'Этап провален':'Этап пройден!'} level={status=='error'? 'error':'success'}/>\r\n                </Block>\r\n            </GridCell>\r\n            <GridCell style={{gridRowStart: 2, gridRowEnd: 3}}>\r\n                <Block title={`Статистика. ${clientName}`}>\r\n                    <FlexWrapper>\r\n                        <Title size='lg' value='Ваш суммарный счет'/><Title size='lg' value={statistic.score}/>\r\n                    </FlexWrapper>\r\n                    <FlexWrapper>\r\n                        <Title size='lg' level='Success' value='Успешных этапов'/><Title level='Success' size='lg' value={statistic.success}/>\r\n                    </FlexWrapper>\r\n                    <FlexWrapper>\r\n                        <Title size='lg' level='Error' value='Проваленных этапов'/><Title level='Error' size='lg' value={statistic.error}/>\r\n                    </FlexWrapper>\r\n                    <FlexWrapper direction='Vertical'>\r\n                        <Title size='giga' value={statistic.last} level={statistic.last>0? 'Success': 'Error'}/>\r\n                        <Title size='lg' value='На этом этапе вы получили'/>\r\n                    </FlexWrapper>\r\n                </Block>\r\n            </GridCell>\r\n            <GridCell style={{ gridRowStart: 2, gridRowEnd: 4 }}>\r\n                <Block\r\n                    title={status==='error'?'Не отчаивайся!': 'Отлично!'}\r\n                    description={status==='error'?`Открой учебник на странице... ${clientName}, да ты итак все знаешь. Попробуй еще раз. Это случайность.`:`Хорошая работа, ${clientName}. Решишь еще пару примеров?`}>\r\n                    <FlexWrapper direction='Vertical'>\r\n                        <ImageLoader style={{width: '300px'}} image={getImage('kurisu_finger')}/>\r\n                    </FlexWrapper>\r\n                </Block>\r\n            </GridCell>\r\n            {\r\n                status === 'success'?\r\n                    <Button title=\"Следующий этап\" handler={newLevel}/>\r\n                    :\r\n                    <Button title='Следующий этап' handler={restartLevel}/>\r\n            }\r\n        </GridWrapper>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport * as THREE from 'three'\r\nimport SimplexNoise from 'simplex-noise';\r\nimport chroma from \"chroma-js\";\r\n\r\n\r\nconst conf = {\r\n    fov: 75,\r\n    cameraZ: 75,\r\n    xyCoef: 50,\r\n    zCoef: 10,\r\n    lightIntensity: 0.9,\r\n    ambientColor: 0x000000,\r\n    light1Color: 0x0E09DC,\r\n    light2Color: 0x1CD1E1,\r\n    light3Color: 0x18C02C,\r\n    light4Color: 0xee3bcf\r\n};\r\n\r\nclass Scene extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        console.log(props)\r\n        this.initScene = this.initScene.bind(this)\r\n        this.initLights = this.initLights.bind(this)\r\n        this.animatePlane = this.animatePlane.bind(this)\r\n        this.animateLights = this.animateLights.bind(this)\r\n        this.updateLightsColors = this.updateLightsColors.bind(this)\r\n        this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\r\n        this.renderer.setSize(300, 300)\r\n        this.camera = new THREE.PerspectiveCamera(conf.fov);\r\n        this.camera.position.z = conf.cameraZ;\r\n        this.camera.aspect = 1;\r\n        this.simplex = new SimplexNoise();\r\n        this.animate = this.animate.bind(this)\r\n    }\r\n\r\n\r\n\r\n    initScene() {\r\n        this.scene = new THREE.Scene();\r\n        this.initLights();\r\n        //const mat_ = new THREE.MeshPhongMaterial({ color: 0xffffff, transparent: true,\r\n            //opacity: 0.3 });\r\n        //const mat__ = new THREE.MeshPhongMaterial({ color: 0xff0000, transparent: true,\r\n            //opacity: 0.5 });\r\n        this.group = new THREE.Group()\r\n        const middle_ = new THREE.CylinderGeometry(15, 15, 30, 32)\r\n        //const water_ = new THREE.CylinderBufferGeometry(14.9, 14.9, 10, 115)\r\n        //const water__ = new THREE.CylinderBufferGeometry(14.9, 14.9, 10, 115)\r\n        this.waters = []\r\n        const material = new THREE.MeshPhysicalMaterial({\r\n            metalness: 1.0,\r\n            roughness: 0.2,\r\n            refractionRatio: 0.95,\r\n            transparent: true,\r\n            opacity: 0.1,\r\n            transmission: 0.1,\r\n            side: THREE.BackSide,\r\n            clearcoat: 1.0,\r\n            clearcoatRoughness: 1\r\n        })\r\n        this.middle = new THREE.Mesh(middle_, material)\r\n        //this.water = new THREE.Mesh(water_, mat_)\r\n        //this.water___ = new THREE.Mesh(water__, mat__)\r\n        this.group.add(this.middle)\r\n        // this.group.add(this.water)\r\n        // this.group.add(this.water___)\r\n        this.scene.add(this.group)\r\n        //this.water___.position.y = -10\r\n        //this.water.position.y = -10\r\n        this.props.props.layers.forEach((layer, key) => this.createLayer(layer, key))\r\n        this.group.position.y = -20;\r\n        this.group.position.z = 40\r\n        console.log(this.props)\r\n        this.camera.position.z = 90\r\n        this.camera.position.y = -9\r\n        this.level_ = 0\r\n        this.mount.appendChild(this.renderer.domElement)\r\n    }\r\n\r\n\r\n    createLayer(layer, key) {\r\n        const mat = new THREE.MeshPhongMaterial({ color: layer.properties.color, transparent: true,\r\n            opacity: layer.properties.opacity })\r\n        const water_ = new THREE.CylinderBufferGeometry(14.9 - key * 0.01, 14.9 - key * 0.01, 5 + key * 2, 115)\r\n        this.waters.push(new THREE.Mesh(water_, mat))\r\n        this.waters[key].position.y = -12\r\n        this.group.add(this.waters[key])\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n            cancelAnimationFrame(this.frameId)\r\n            this.initScene();\r\n            this.animate();\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(124)\r\n        this.initScene();\r\n        this.animate();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        cancelAnimationFrame(this.frameId)\r\n        this.mount.removeChild(this.renderer.domElement)\r\n    }\r\n\r\n\r\n    animatePlane() {\r\n            this.waters.forEach((water, key) => {\r\n            const wArray = this.waters[key].geometry.attributes.position.array;\r\n            const time = Date.now() * 0.0002;\r\n            if(key === 0){\r\n                for (let i = wArray.length / 2; i < wArray.length; i += 3) {\r\n                    wArray[i + 1] = this.simplex.noise4D(wArray[i] / 50, wArray[i + 1] / 50, time, 4.34) * 3  + 5;\r\n                }\r\n                for (let i = 0; i < wArray.length / 8 + 3; i += 3) {\r\n                    wArray[i + 1] = wArray[(wArray.length / 2) + i + 1]\r\n                }\r\n                for (let i = 261; i < 347; i += 3) {\r\n                    wArray[i+1] = wArray[(wArray.length / 2) + i + 1]\r\n                }\r\n            }\r\n            else{\r\n                const mArray = this.waters[key - 1].geometry.attributes.position.array;\r\n                for (let i = 0; i < wArray.length / 4 + 3; i += 3) {\r\n                    wArray[i + 1] = mArray[(wArray.length / 2) + i + 1]\r\n                }\r\n                for (let i = 0; i < mArray.length; i += 3) {\r\n                    wArray[i + 1] = mArray[i + 1] + 5\r\n                }\r\n            }\r\n            this.waters[key].geometry.attributes.position.needsUpdate = true;\r\n            this.waters[key].geometry.computeBoundingSphere()\r\n        })\r\n\r\n        // const wArray = this.water.geometry.attributes.position.array;\r\n        // const mArray = this.water___.geometry.attributes.position.array;\r\n        // const time = Date.now() * 0.0002;\r\n        // for (let i = wArray.length / 2; i < wArray.length; i += 3) {\r\n        //     wArray[i + 1] = this.simplex.noise4D(wArray[i] / 50, wArray[i + 1] / 50, time, 4.34) * 10 + 5;\r\n        // }\r\n        // for (let i = 0; i < wArray.length / 8 + 3; i += 3) {\r\n        //     wArray[i + 1] = wArray[(wArray.length / 2) + i + 1]\r\n        // }\r\n        // for (let i = 261; i < 347; i += 3) {\r\n        //     wArray[i+1] = wArray[(wArray.length / 2) + i + 1]\r\n        // }\r\n        //\r\n        //\r\n        // for (let i = 0; i < wArray.length / 4 + 3; i += 3) {\r\n        //     mArray[i + 1] = wArray[(wArray.length / 2) + i + 1]\r\n        // }\r\n        // for (let i = 0; i < mArray.length; i += 3) {\r\n        //     mArray[i + 1] = wArray[i + 1] + 5\r\n        // }\r\n\r\n        // //console.log( mArray.length * 3 / 4)\r\n        // for (let i = mArray.length / 2; i < mArray.length; i += 3) {\r\n        //     mArray[i + 1] = wArray[i + 1] + 5\r\n        // }\r\n        // for (let i = 0; i < wArray.length / 8 + 3; i += 3) {\r\n        //     mArray[i + 1] = wArray[(wArray.length / 2) + i + 1] + 5\r\n        // }\r\n        // for (let i = 261; i < 347; i += 3) {\r\n        //     mArray[i+1] = wArray[(wArray.length / 2) + i + 1] + 5\r\n        // }\r\n        //this.water.geometry.attributes.position.needsUpdate = true;\r\n        //this.water___.geometry.attributes.position.needsUpdate = true;\r\n    }\r\n\r\n    initLights() {\r\n        const r = 90;\r\n        const y = -20;\r\n        const lightDistance = 500;\r\n\r\n\r\n        this.light1 = new THREE.PointLight(conf.light1Color, conf.lightIntensity, lightDistance);\r\n        this.light1.position.set(0, y, r);\r\n        this.scene.add(this.light1);\r\n        this.light2 = new THREE.PointLight(conf.light2Color, conf.lightIntensity, lightDistance);\r\n        this.light2.position.set(0, -y, -r);\r\n        this.scene.add(this.light2);\r\n        this.light3 = new THREE.PointLight(conf.light3Color, conf.lightIntensity, lightDistance);\r\n        this.light3.position.set(r, y, 0);\r\n        this.scene.add(this.light3);\r\n        this.light4 = new THREE.PointLight(conf.light4Color, conf.lightIntensity, lightDistance);\r\n        this.light4.position.set(-r, y, 0);\r\n        this.scene.add(this.light4);\r\n    }\r\n\r\n    animateLights() {\r\n        const time = Date.now() * 0.001;\r\n        const d = 50;\r\n        this.light1.position.x = Math.sin(time * 0.1) * d;\r\n        this.light1.position.z = Math.cos(time * 0.2) * d;\r\n        this.light2.position.x = Math.cos(time * 0.3) * d;\r\n        this.light2.position.z = Math.sin(time * 0.4) * d;\r\n        this.light3.position.x = Math.sin(time * 0.5) * d;\r\n        this.light3.position.z = Math.sin(time * 0.6) * d;\r\n        this.light4.position.x = Math.sin(time * 0.7) * d;\r\n        this.light4.position.z = Math.cos(time * 0.8) * d;\r\n    }\r\n    updateLightsColors() {\r\n        conf.light1Color = chroma.random().hex();\r\n        conf.light2Color = chroma.random().hex();\r\n        conf.light3Color = chroma.random().hex();\r\n        conf.light4Color = chroma.random().hex();\r\n        this.light1.color = new THREE.Color(conf.light1Color);\r\n        this.light2.color = new THREE.Color(conf.light2Color);\r\n        this.light3.color = new THREE.Color(conf.light3Color);\r\n        this.light4.color = new THREE.Color(conf.light4Color);\r\n    }\r\n\r\n    animate() {\r\n        this.frameId = requestAnimationFrame(this.animate);\r\n\r\n        this.animatePlane();\r\n        this.animateLights();\r\n\r\n        this.renderer.render(this.scene, this.camera);\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n\r\n                style={{ width: '300px', height: '300px'}}\r\n                ref={(mount) => { this.mount = mount }}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default Scene\r\n","import React, { Component } from 'react'\r\nimport * as THREE from 'three'\r\nimport SimplexNoise from 'simplex-noise';\r\nimport chroma from \"chroma-js\";\r\n\r\n\r\nconst conf = {\r\n    fov: 75,\r\n    cameraZ: 75,\r\n    xyCoef: 50,\r\n    zCoef: 10,\r\n    lightIntensity: 0.9,\r\n    ambientColor: 0x000000,\r\n    light1Color: 0x0E09DC,\r\n    light2Color: 0x1CD1E1,\r\n    light3Color: 0x18C02C,\r\n    light4Color: 0xee3bcf\r\n};\r\n\r\nclass DragFlask extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.props = props.props\r\n        this.initScene = this.initScene.bind(this)\r\n        this.initLights = this.initLights.bind(this)\r\n        this.animatePlane = this.animatePlane.bind(this)\r\n        this.animateLights = this.animateLights.bind(this)\r\n        this.updateLightsColors = this.updateLightsColors.bind(this)\r\n        this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\r\n        this.renderer.setSize(100, 100)\r\n        this.camera = new THREE.PerspectiveCamera(conf.fov);\r\n        this.camera.position.z = conf.cameraZ;\r\n        this.camera.aspect = 1;\r\n        this.simplex = new SimplexNoise();\r\n        this.animate = this.animate.bind(this)\r\n    }\r\n\r\n\r\n\r\n    initScene() {\r\n        this.scene = new THREE.Scene();\r\n        this.initLights();\r\n        this.group = new THREE.Group()\r\n        const middle_ = new THREE.CylinderGeometry(10, 15, 30, 32)\r\n        const material = new THREE.MeshPhysicalMaterial({\r\n            metalness: 1.0,\r\n            roughness: 0.2,\r\n            refractionRatio: 0.95,\r\n            transparent: true,\r\n            opacity: 0.1,\r\n            transmission: 0.1,\r\n            side: THREE.BackSide,\r\n            clearcoat: 1.0,\r\n            clearcoatRoughness: 1\r\n        })\r\n        const mat_solid = new THREE.MeshPhysicalMaterial({ color: this.props.props.color})\r\n        console.log(this.props?.color)\r\n        const mat_liquid = new THREE.MeshPhongMaterial({ color: this.props.props.color, transparent: true,\r\n            opacity: this.props?.props.opacity })\r\n        this.middle = new THREE.Mesh(middle_, material)\r\n        this.group.add(this.middle)\r\n        this.scene.add(this.group)\r\n        console.log(this.props)\r\n        const geo = new THREE.CylinderBufferGeometry(12.9, 14.9 , 10, 115)\r\n        this.thing = new THREE.Mesh(geo, (this.props.props.type_ === 'liquid')?mat_liquid:mat_solid)\r\n        this.group.add(this.thing)\r\n        this.thing.position.y = -10\r\n        this.group.position.y = -20;\r\n        this.group.position.z = 40\r\n        console.log(this.props)\r\n        this.camera.position.z = 90\r\n        this.camera.position.y = -9\r\n        this.mount.appendChild(this.renderer.domElement)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.simplex = new SimplexNoise();\r\n        this.initScene();\r\n        this.animate();\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        cancelAnimationFrame(this.frameId)\r\n        this.mount.removeChild(this.renderer.domElement)\r\n    }\r\n\r\n    animatePlane() {\r\n        console.log(1)\r\n        const wArray = this.thing.geometry.attributes.position.array;\r\n        const time = Date.now() * 0.0002;\r\n        for (let i = wArray.length / 2; i < wArray.length; i += 3) {\r\n            wArray[i + 1] = this.props.props.type_==='liquid' ?\r\n                this.simplex.noise4D(wArray[i] / 50, wArray[i + 1] / 50, time, (4.34)) * 3  + 5 :\r\n                this.simplex.noise3D(wArray[i] / 50, wArray[i + 1] / 50, wArray[i + 2] / 50) * 3  + 5 ;\r\n        }\r\n        for (let i = 0; i < wArray.length / 8 + 3; i += 3) {\r\n            wArray[i + 1] = wArray[(wArray.length / 2) + i + 1]\r\n        }\r\n        for (let i = 261; i < 347; i += 3) {\r\n            wArray[i+1] = wArray[(wArray.length / 2) + i + 1]\r\n        }\r\n        this.thing.geometry.attributes.position.needsUpdate = true;\r\n        this.thing.geometry.computeBoundingSphere();\r\n    }\r\n\r\n    initLights() {\r\n        const r = 90;\r\n        const y = -20;\r\n        const lightDistance = 500;\r\n\r\n\r\n        this.light1 = new THREE.PointLight(conf.light1Color, conf.lightIntensity, lightDistance);\r\n        this.light1.position.set(0, y, r);\r\n        this.scene.add(this.light1);\r\n        this.light2 = new THREE.PointLight(conf.light2Color, conf.lightIntensity, lightDistance);\r\n        this.light2.position.set(0, -y, -r);\r\n        this.scene.add(this.light2);\r\n        this.light3 = new THREE.PointLight(conf.light3Color, conf.lightIntensity, lightDistance);\r\n        this.light3.position.set(r, y, 0);\r\n        this.scene.add(this.light3);\r\n        this.light4 = new THREE.PointLight(conf.light4Color, conf.lightIntensity, lightDistance);\r\n        this.light4.position.set(-r, y, 0);\r\n        this.scene.add(this.light4);\r\n    }\r\n\r\n    animateLights() {\r\n        const time = Date.now() * 0.001;\r\n        const d = 50;\r\n        this.light1.position.x = Math.sin(time * 0.1) * d;\r\n        this.light1.position.z = Math.cos(time * 0.2) * d;\r\n        this.light2.position.x = Math.cos(time * 0.3) * d;\r\n        this.light2.position.z = Math.sin(time * 0.4) * d;\r\n        this.light3.position.x = Math.sin(time * 0.5) * d;\r\n        this.light3.position.z = Math.sin(time * 0.6) * d;\r\n        this.light4.position.x = Math.sin(time * 0.7) * d;\r\n        this.light4.position.z = Math.cos(time * 0.8) * d;\r\n    }\r\n    updateLightsColors() {\r\n        conf.light1Color = chroma.random().hex();\r\n        conf.light2Color = chroma.random().hex();\r\n        conf.light3Color = chroma.random().hex();\r\n        conf.light4Color = chroma.random().hex();\r\n        this.light1.color = new THREE.Color(conf.light1Color);\r\n        this.light2.color = new THREE.Color(conf.light2Color);\r\n        this.light3.color = new THREE.Color(conf.light3Color);\r\n        this.light4.color = new THREE.Color(conf.light4Color);\r\n    }\r\n\r\n    animate() {\r\n        this.frameId = requestAnimationFrame(this.animate);\r\n        this.animatePlane();\r\n        this.animateLights();\r\n\r\n        this.renderer.render(this.scene, this.camera);\r\n    };\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{ width: '100px', height: '100px' }}\r\n                ref={(mount) => { this.mount = mount }}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default DragFlask\r\n","import React, { useState } from 'react'\r\nimport Draggable from 'react-draggable';\r\nimport './index.css'\r\n\r\nimport DragFlask from \"../drag-flask\";\r\n\r\nexport const DragItem = ({ id, title, type, properties, select, deselect, setMouse, setDragValue, drag, isSelected }) => {\r\n    const [visible, setVisible] = useState(true)\r\n    if(isSelected && visible){\r\n        setVisible(false)\r\n    }\r\n    if(!isSelected && !visible){\r\n        setVisible(true)\r\n    }\r\n    console.log(properties)\r\n    return(\r\n        <Draggable\r\n            onStart={() => {\r\n                select(true)\r\n                setDragValue(id)\r\n                console.log(111)\r\n                setVisible(true)\r\n        }}\r\n            onStop={() =>{\r\n                select(false)\r\n                console.log()\r\n                setVisible(false)\r\n        }}\r\n        >\r\n            <div className='DragItem Block' onTouchMove={(event) => {\r\n                console.log(event)\r\n                if(drag === id){\r\n                    setMouse(event.changedTouches[0].clientX, event.changedTouches[0].clientY)\r\n                }\r\n            }}\r\n                 onMouseMove={(event) => {\r\n                console.log(event)\r\n                if(drag === id){\r\n                    setMouse(event.clientX, event.clientY)\r\n                }\r\n            }}>\r\n                <div className='DragItemTitle'>{title}</div>\r\n                {\r\n                    visible && <DragFlask props={{type_:type, color: properties.color, opacity: properties.opacity}} />\r\n                }\r\n            </div>\r\n        </Draggable>\r\n    )\r\n}\r\n\r\n// import React, { useState } from 'react'\r\n// import Scene from \"../../workspace-flask\";\r\n// import {Block} from \"../../block\";\r\n//\r\n// export const DragItem = ({title, }) => {\r\n//     const [visible, setVisible] = useState(false)\r\n//\r\n//     return(\r\n//         <div draggable=\"true\" on onDragStart={()=>{setVisible(true)}} onDragEnd={()=>setVisible(false)}>\r\n//             <div>говно</div>\r\n//             {\r\n//                 visible&&                 <Scene props={{\r\n//                     layers: [\r\n//                         {\r\n//                             color: 0xffffff,\r\n//                             opacity: 0.6\r\n//                         },\r\n//                         {\r\n//                             color: 0x0000FF,\r\n//                             opacity: 0.7\r\n//                         },\r\n//                         {\r\n//                             color: 0xffffff,\r\n//                             opacity: 0.6\r\n//                         }\r\n//                     ]\r\n//                 }}/>\r\n//             }\r\n//         </div>\r\n//     )\r\n// }","import React from 'react'\r\nimport {DragItem} from \"./drag-item\";\r\nimport './index.css'\r\n\r\nexport const DragField = ({items, select, deselect, setMouse, setDragValue, drag, bottle}) => {\r\n    console.log(items)\r\n    return(\r\n        <div className='DragField'>\r\n            {\r\n                Object.entries(items).map(item => <DragItem drag={drag} id={item[0]} isSelected={bottle[item[0]]} setDragValue={setDragValue} setMouse={setMouse} select={select} deselect={deselect} title={item[1].title} type={item[1].type} properties={item[1].properties}/>)\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect, useRef } from 'react'\r\nimport './index.css'\r\n\r\nexport const DropField = ({mouse, setHoverFlag, drag, children}) => {\r\n    const ref = useRef();\r\n    const [rect, setRect] = useState()\r\n    const [flag, setFlag] = useState(false)\r\n    useEffect(() => {\r\n        setRect(ref.current.getBoundingClientRect())\r\n    }, [drag])\r\n\r\n    const hover = () => {\r\n        setHoverFlag(true)\r\n        setFlag(true)\r\n    }\r\n    const outHover = () => {\r\n        setHoverFlag(false)\r\n        setFlag(false)\r\n    }\r\n    useEffect(() => {\r\n        if(drag){\r\n            if( mouse?.x < rect?.right\r\n                && mouse?.x > rect?.left\r\n                && mouse?.y > rect?.top\r\n                && mouse?.y < rect?.bottom){\r\n                console.log(33333)\r\n                hover()\r\n            }\r\n            else{\r\n                outHover(mouse)\r\n                console.log(22222222)\r\n            }\r\n        }\r\n    }, [drag, mouse])\r\n\r\n    return(<div className='DropField' ref={ref}>\r\n        {children}\r\n    </div>)\r\n}","import React from 'react'\r\nimport './index.css'\r\nimport {Title} from \"../title\";\r\n\r\nexport const Task = ({title, items}) => {\r\n    return(\r\n        <div className='Task'>\r\n            <Title value={title} size='lg'/>\r\n            {\r\n                items.map(item => <div className='TaskItem'><Title value={item} size='lg'/></div>)\r\n            }\r\n        </div>\r\n    )\r\n}","import React, {useState, useCallback, useEffect} from 'react'\r\nimport { connect, useDispatch, useSelector } from 'react-redux'\r\nimport {GridWrapper} from \"../../components/grid-wrapper\";\r\nimport {GridCell} from \"../../components/grid-wrapper/grid-cell\";\r\nimport {Block} from \"../../components/block\";\r\nimport {Button} from \"../../components/button\";\r\nimport Scene from \"../../components/workspace-flask\";\r\nimport {DragField} from \"../../components/drag-field\";\r\nimport {DropField} from \"../../components/drag-field/drop-field\";\r\nimport {Task} from \"../../components/task\";\r\nimport {fetchStatistic, fetchStatus} from \"../../__data__/actions\";\r\nimport {getLevel, getStatistic} from \"../../__data__/selectors\";\r\n\r\nimport './index.css'\r\n\r\nconst style = {\r\n    gridTemplateColumns: '60% 40%',\r\n    gridTemplateRows: '20% 70% 15%',\r\n    height: '70%'\r\n}\r\n\r\nconst LevelScreen = ({ status, score, level, setFlag, next, statistic }) => {\r\n    const dispatch = useDispatch()\r\n    const [bottle, setBottle] = useState({})\r\n    const [error, setError_] = useState(false)\r\n    const [hover, setHover] = useState(false)\r\n    const [drag, setDrag] = useState(false)\r\n    const [dragValue, setDragValue] = useState(false)\r\n    const [mouse, setMouse_] = useState({x: 0, y: 0})\r\n    const setMouse = useCallback((x , y) => {\r\n            setMouse_({x, y})\r\n    },[])\r\n    console.log(bottle)\r\n\r\n    const setError = () => {\r\n        setFlag(false)\r\n        setTimeout(()=>{\r\n            dispatch(fetchStatus('error'))\r\n            statistic.error++\r\n            statistic.score+=level.pointsFail\r\n            statistic.last = level.pointsFail\r\n            localStorage.setItem('statistic', JSON.stringify(statistic))\r\n            dispatch(fetchStatistic(statistic))\r\n            next()\r\n        },1000)\r\n    }\r\n\r\n    const setSuccess = () => {\r\n        setFlag(false)\r\n        setTimeout(()=>{\r\n            dispatch(fetchStatus('success'))\r\n            localStorage.setItem('statistic', JSON.stringify(statistic))\r\n            statistic.success++\r\n            statistic.last = level.pointsSuccess\r\n            statistic.score+=level.pointsSuccess\r\n            dispatch(fetchStatistic(statistic))\r\n            next()\r\n        },1000)\r\n    }\r\n\r\n    const mixHandler = () => {\r\n        let flag = true\r\n        if(level.success.length === Object.keys(bottle).length){\r\n            level.success.forEach((item)=>{\r\n                if(!bottle[item]){\r\n                    flag = false\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            flag=false\r\n        }\r\n        if(flag){\r\n            setSuccess()\r\n        }\r\n        else{\r\n            setError()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('errorCheck')\r\n        console.log(bottle)\r\n        level.errors.forEach((error) => {\r\n            let flag = true\r\n            for(let i = 0; i < error.length; i++){\r\n                if(!bottle[error[i]]){\r\n                    flag = false\r\n                    break;\r\n                }\r\n            }\r\n            if(flag){\r\n                setError_(true)\r\n                setTimeout(()=>{\r\n                    setError()\r\n                }, 3000)\r\n            }\r\n        })\r\n    },[bottle])\r\n\r\n    useEffect(()=>{\r\n        console.log(hover, dragValue)\r\n        if(!drag){\r\n            if(hover){\r\n                if(dragValue && !bottle[dragValue]){\r\n                    setBottle({...bottle, [dragValue]: level.components[dragValue]})\r\n                    setDragValue(false)\r\n                }\r\n            }\r\n            else if(!drag && dragValue){\r\n                let temp = Object.assign({}, bottle)\r\n                delete temp[dragValue]\r\n                setBottle(temp)\r\n                setDragValue(false)\r\n            }\r\n        }\r\n    }, [drag])\r\n\r\n    const deselect = useCallback(()=>{\r\n        setDrag(false)\r\n    }, [])\r\n\r\n    return(\r\n        <GridWrapper style={style}>\r\n            <GridCell style={{gridColumnStart: 1, gridColumnEnd: 3}}>\r\n                <Block isFlex={true}>\r\n                    <Task title={level.task.title} items={level.task.items}/>\r\n                </Block>\r\n            </GridCell>\r\n            <Block title='Компоненты'>\r\n                <DragField\r\n                    bottle={bottle}\r\n                    setMouse={setMouse}\r\n                    select={setDrag}\r\n                    setDragValue={setDragValue}\r\n                    deselect={deselect}\r\n                    drag={dragValue}\r\n                    items={level.components}/>\r\n            </Block>\r\n            <GridCell style={{gridRowStart: 2, gridRowEnd: 4, gridColumnStart: 2}}>\r\n                <Block title='Результат' shake={error}>\r\n                    <DropField mouse={mouse} drag={drag} setHoverFlag={setHover} >\r\n                        <Scene\r\n                            props={{\r\n                                layers: Object.values(bottle)\r\n                            }}/>\r\n                    </DropField>\r\n                </Block>\r\n            </GridCell>\r\n            <Button title='Перемешать' handler={mixHandler}/>\r\n        </GridWrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    console.log(state)\r\n    return({\r\n        level: getLevel(state),\r\n        statistic: getStatistic(state)\r\n    })\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(LevelScreen)","import React, {useEffect} from 'react'\r\nimport './index.css'\r\n\r\nexport const Notification = ({text, mode, setAlert}) => {\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n            setAlert(-1)\r\n        }, 5000)\r\n    },[])\r\n    return(\r\n        <div className='Notification'>\r\n            <div className={`Notification${mode}`} />\r\n            <div className='NotificationText'>\r\n                {text}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","const levels = [\r\n    {\r\n        components:{\r\n            1: {\r\n                title: 'Ca(OH)2',\r\n                type: 'solid',\r\n                properties:{\r\n                    color: 0xD1ED58,\r\n                    opacity: 1\r\n                }\r\n            },\r\n            2: {\r\n                title: 'HNO3',\r\n                type: 'liquid',\r\n                properties:{\r\n                    color: 0x87EAED,\r\n                    opacity: 0.4\r\n                }\r\n            },\r\n            3: {\r\n                title: 'H2SO4',\r\n                type: 'liquid',\r\n                properties:{\r\n                    color: 0xB758ED,\r\n                    opacity: 0.5\r\n                }\r\n            },\r\n            4: {\r\n                title: 'Ca',\r\n                type: 'solid',\r\n                properties:{\r\n                    color: 0xED9964,\r\n                    opacity: 1\r\n                }\r\n            },\r\n        },\r\n        task: {\r\n            title:'Что необходимо смешать, чтобы получить: ',\r\n            items:['CaSO4 +', 'H2O']\r\n        },\r\n        pointsSuccess: 50,\r\n        pointsFail: -25,\r\n        success:[1,3],\r\n        errors:[[2,3]]\r\n    },\r\n    {\r\n        components:{\r\n            1: {\r\n                title: 'Zn',\r\n                type: 'solid',\r\n                properties:{\r\n                    color: 0xD1ED58,\r\n                    opacity: 1\r\n                }\r\n            },\r\n            2: {\r\n                title: 'HCl',\r\n                type: 'liquid',\r\n                properties:{\r\n                    color: 0x87EAED,\r\n                    opacity: 0.4\r\n                }\r\n            },\r\n            3: {\r\n                title: 'Cl',\r\n                type: 'liquid',\r\n                properties:{\r\n                    color: 0xB758ED,\r\n                    opacity: 0.5\r\n                }\r\n            },\r\n            4: {\r\n                title: 'ZnCl',\r\n                type: 'solid',\r\n                properties:{\r\n                    color: 0xED9964,\r\n                    opacity: 1\r\n                }\r\n            },\r\n        },\r\n        task: {\r\n            title:'Что необходимо смешать, чтобы получить: ',\r\n            items:['ZnCl2 +', 'H2']\r\n        },\r\n        pointsSuccess: 50,\r\n        pointsFail: -25,\r\n        success:[1, 2],\r\n        errors:[[2, 3]]\r\n    },\r\n    {\r\n        components:{\r\n            1: {\r\n                title: 'Fe',\r\n                type: 'solid',\r\n                properties:{\r\n                    color: 0xD1ED58,\r\n                    opacity: 1\r\n                }\r\n            },\r\n            3: {\r\n                title: 'FeCl',\r\n                type: 'liquid',\r\n                properties:{\r\n                    color: 0xB758ED,\r\n                    opacity: 0.5\r\n                }\r\n            },\r\n            4: {\r\n                title: 'CuSO3',\r\n                type: 'solid',\r\n                properties:{\r\n                    color: 0xED9964,\r\n                    opacity: 1\r\n                }\r\n            },\r\n            5: {\r\n                title: 'Zn',\r\n                type: 'solid',\r\n                properties:{\r\n                    color: 0x87EAED,\r\n                    opacity: 0.4\r\n                }\r\n            },\r\n            7: {\r\n                title: 'CuSO4',\r\n                type: 'solid',\r\n                properties:{\r\n                    color: 0x87EAED,\r\n                    opacity: 0.4\r\n                }\r\n            }\r\n        },\r\n        task: {\r\n            title:'Что необходимо смешать, чтобы получить: ',\r\n            items:['FeSO4 +', 'Cu']\r\n        },\r\n        pointsSuccess: 50,\r\n        pointsFail: -25,\r\n        success:[1,7],\r\n        errors:[]\r\n    }\r\n]\r\n\r\nexport const nextLevel = (prev) => {\r\n    let level = prev\r\n    console.log(199999999)\r\n    while(level === prev){\r\n        level = Math.floor(Math.random() * 100) % levels.length\r\n    }\r\n    return {level: levels[level], level_num: level}\r\n}","import React, { useState, useEffect } from 'react'\r\nimport {CSSTransition} from \"react-transition-group\";\r\n\r\nimport { connect, useDispatch } from 'react-redux'\r\nimport Step1 from './intro-screen/step-1'\r\nimport { Step2 } from './intro-screen/step-2'\r\nimport {MainContainer} from \"../components/main-container\";\r\nimport {Background} from \"../components/background\";\r\nimport {nextStage, prevStage, setLevel} from \"../__data__/actions\";\r\nimport {StatusScreen} from \"./status-screen\";\r\nimport LevelScreen from \"./level-screen\";\r\nimport {Notification} from \"../components/notification\";\r\nimport {nextLevel} from \"../levels\";\r\n\r\n\r\nconst Workflow = ({stage, prev, next, status, level_prev}) => {\r\n    const [flag, setFlag] = useState(false)\r\n    const [background, setBackground] = useState('Intro')\r\n    const [alert, setAlert] = useState(false)\r\n    const dispatch = useDispatch()\r\n    const stages = [\r\n        <Step1 next={next} setFlag={setFlag}/>,\r\n        <Step2 next={next} setFlag={setFlag}/>,\r\n        <LevelScreen setFlag={setFlag} next={next}/>,\r\n        <StatusScreen prev={prev} setFlag={setFlag}/>\r\n        ]\r\n    useEffect(() => {\r\n        console.log(flag)\r\n        setFlag(true)\r\n        const {level, level_num} = nextLevel(level_prev)\r\n        dispatch(setLevel(level, level_num))\r\n        console.log(flag)\r\n        if(stage === 1){\r\n            setBackground('Work')\r\n        }\r\n        setAlert(stage)\r\n    }, [stage])\r\n    return(\r\n        // <CSSTransition\r\n        //     in={flag && (stage == 0)}\r\n        //     timeout={200}\r\n        //     classNames={'Background'}\r\n        // >\r\n            <Background theme={background}>\r\n                <CSSTransition\r\n                    in={flag}\r\n                    unmountOnExit\r\n                    timeout={1000}\r\n                    classNames={'MainContainer'}\r\n                >\r\n                    <MainContainer>\r\n                        {stages[stage]}\r\n                    </MainContainer>\r\n                </CSSTransition>\r\n                <CSSTransition\r\n                    in={alert===2}\r\n                    unmountOnExit\r\n                    timeout={1000}\r\n                    classNames={'Notification'}\r\n                >\r\n                    <Notification\r\n                        mode='Info'\r\n                        text='Перетащите элементы в пробирках в поле \"результат\". Чтобы узнать результат - нажмите кнопку \"Перемешать\".'\r\n                        setAlert={setAlert}\r\n                    />\r\n                </CSSTransition>\r\n                <CSSTransition\r\n                    in={alert===3 && status ==='error'}\r\n                    unmountOnExit\r\n                    timeout={1000}\r\n                    classNames={'Notification'}\r\n                >\r\n                    <Notification\r\n                        mode='Question'\r\n                        text='Вы получили не тот результат или смешали элементы, которые вызывают опасную реакцию'\r\n                        setAlert={setAlert}\r\n                    />\r\n                </CSSTransition>\r\n                <CSSTransition\r\n                    in={alert===3 && status !=='error'}\r\n                    unmountOnExit\r\n                    timeout={1000}\r\n                    classNames={'Notification'}\r\n                >\r\n                    <Notification\r\n                        mode='Info'\r\n                        text='Отлично! Ты молодец!'\r\n                        setAlert={setAlert}\r\n                    />\r\n                </CSSTransition>\r\n            </Background>\r\n        //</CSSTransition>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n    clientId: state.default?.clientId,\r\n    clientName: state.default?.clientName,\r\n    stage: state.default.stage,\r\n    status: state.default.status,\r\n    level_prev: state.default.level_num\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    next: () => dispatch(nextStage()),\r\n    prev: () => dispatch(prevStage())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Workflow)","import * as types from '../action-types'\r\nimport {nextLevel} from \"../../levels\";\r\n\r\nconst defaultState = {\r\n    stage: localStorage.getItem('clientName')?1:0,\r\n    clientName: localStorage.getItem('clientName')??'',\r\n    level_num: 1,\r\n    level: {},\r\n    statistic: JSON.parse(localStorage.getItem('statistic'))??{\r\n        score: 0,\r\n        success: 0,\r\n        error: 0,\r\n        last: 0\r\n    }\r\n}\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case types.SET_CLIENT_NAME:\r\n            return {\r\n                ...state,\r\n                clientName: action.clientName\r\n            }\r\n        case types.SET_STATISTIC:\r\n            return {\r\n                ...state,\r\n                statistic: action.statistic\r\n            }\r\n        case types.SET_LEVEL:\r\n                return {\r\n                    ...state,\r\n                    level: action.level,\r\n                    level_num: action.level_num\r\n                }\r\n        case types.SET_PREV_STAGE:\r\n            return {\r\n                ...state,\r\n                stage: state.stage - 1\r\n            }\r\n        case types.SET_NEXT_STAGE:\r\n            return {\r\n                ...state,\r\n                stage: state.stage + 1\r\n            }\r\n        case types.SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore as createReduxStore, combineReducers, applyMiddleware, compose } from 'redux'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\nimport * as appReducers from './reducers'\r\n\r\nexport const createReducer = (reducers= {}) => combineReducers({\r\n    form: formReducer,\r\n    ...reducers,\r\n    ...appReducers\r\n})\r\n\r\nexport const createStore = () => {\r\n    const reducer = createReducer()\r\n    const composedEnhancer = compose(\r\n        applyMiddleware(thunkMiddleware)\r\n    )\r\n    return createReduxStore(reducer, composedEnhancer)\r\n}\r\nexport default createStore()","import React from 'react'\nimport './App.css';\nimport LIGHT_THEME from './components/theme'\nimport Workflow from \"./pages/workflow\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./__data__\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Provider store={store}>\n            <Workflow/>\n        </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
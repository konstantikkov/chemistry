(this["webpackJsonpchemistry-anime"]=this["webpackJsonpchemistry-anime"]||[]).push([[0],{170:function(t,e,i){"use strict";i.r(e);var n={};i.r(n),i.d(n,"default",(function(){return yt}));var s,o,c=i(5),l=i.n(c),r=i(14),a=i.n(r),h=(i(65),i(66),i(42),i(11)),u=i(174),d=i(13),g=(i(72),i(4)),j=function(t){var e=t.title,i=t.description,n=t.children,s=t.isFlex,o=t.shake,c=t.mode;return Object(g.jsxs)("div",{className:"Block ".concat(o?"Shake":""," ").concat(c?"Toxic":"Fire"),style:s?{display:"flex"}:{},children:[e&&Object(g.jsx)("h1",{children:e}),i&&Object(g.jsx)("p",{children:i}),n]})},p=(i(74),function(t){var e=t.style,i=t.children;return Object(g.jsx)("div",{className:"GridWrapper",style:e,children:i})}),m=function(t){var e=t.style,i=t.children;return Object(g.jsx)("div",{className:"GridCell",style:e,children:i})},b=(i(75),function(t){var e=t.image,i=t.style;return Object(g.jsx)("img",{className:"Image",style:i,src:e})}),v=(i(76),function(t){var e=t.title,i=t.handler,n=t.level,s=t.size,o=void 0===s?"lg":s;return Object(g.jsx)("div",{onClick:i,className:"Button ".concat(n),children:Object(g.jsx)("div",{className:"Title ".concat(o),children:e})})}),f=i.p+"static/media/kurisu_smile.4879e1b6.svg",O={kurisu_sad:i.p+"static/media/kurisu_sad.ca0b9b80.svg",kurisu_smile:f,kurisu_finger:i.p+"static/media/kurisu_finger.3e616d0f.svg"},x=function(t){return O[t]},y=(i(77),function(t){var e=t.placeholder,i=t.state,n=t.setState,s=t.size;return Object(g.jsx)("input",{className:"TextInput ".concat(s),placeholder:e,value:i,onChange:function(t){return n(t.target.value)}})}),S=Symbol("SET_CLIENT_NAME"),C=Symbol("SET_NEXT_STAGE"),w=Symbol("SET_PREV_STAGE"),k=Symbol("SET_STATUS"),N=Symbol("SET_LEVEL"),E=Symbol("SET_STATISTIC"),T=function(t){return{type:k,status:t}},I=function(t){return localStorage.setItem("statistic",JSON.stringify(t)),{type:E,statistic:t}},z={gridTemplateColumns:"30% 70%",gridTemplateRows:"80% 20%"},M=function(t){var e=t.next,i=t.setFlag,n=Object(c.useState)(""),s=Object(h.a)(n,2),o=s[0],l=s[1],r=Object(d.c)();return Object(g.jsxs)(p,{style:z,children:[Object(g.jsx)(m,{style:{gridRowStart:1,gridRowEnd:3},children:Object(g.jsx)(j,{children:Object(g.jsx)(b,{image:x("kurisu_smile")})})}),Object(g.jsx)(j,{title:"\u041f\u0440\u0438\u0432\u0435\u0442, \u0442\u044b \u043d\u043e\u0432\u0435\u043d\u044c\u043a\u0438\u0439?",description:"\u0421\u0435\u0439\u0447\u0430\u0441 \u0443 \u043d\u0430\u0441 \u0443\u0440\u043e\u043a \u0445\u0438\u043c\u0438\u0438 \u0438 \u043c\u044b \u043f\u0435\u0440\u0445\u043e\u0434\u0438\u043c \u0432 \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u044e. \u0411\u0443\u0434\u0435\u0442 \u043e\u0447\u0435\u043d\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e! \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c\u0441\u044f \u043a\u043b\u0430\u0441\u0441\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u043d\u044f\u0442\u0438\u044e.",children:Object(g.jsx)(y,{placeholder:"\u041a\u0430\u043a \u0442\u0435\u0431\u044f \u0437\u043e\u0432\u0443\u0442?",size:"md",state:o,setState:l})}),Object(g.jsx)(v,{handler:function(){i(!1),setTimeout((function(){r(function(t){var e,i=JSON.parse(localStorage.getItem("clientName"));return localStorage.setItem("clientName",t),{type:S,clientName:null!==(e=null===i||void 0===i?void 0:i.clientName)&&void 0!==e?e:t}}(o)),e()}),1e3)},title:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})},_=function(t){var e;return null===t||void 0===t||null===(e=t.default)||void 0===e?void 0:e.clientName},F=function(t){var e;return null===t||void 0===t||null===(e=t.default)||void 0===e?void 0:e.status},L=function(t){var e;return null===t||void 0===t||null===(e=t.default)||void 0===e?void 0:e.level},R=function(t){var e;return null===t||void 0===t||null===(e=t.default)||void 0===e?void 0:e.statistic},D={gridTemplateColumns:"30% 70%",gridTemplateRows:"80% 20%"},A=function(t){var e=t.next,i=t.setFlag,n=Object(d.d)(_);return Object(g.jsxs)(p,{style:D,children:[Object(g.jsx)(m,{style:{gridRowStart:1,gridRowEnd:3},children:Object(g.jsx)(j,{children:Object(g.jsx)(b,{image:x("kurisu_smile")})})}),Object(g.jsx)(j,{title:"\u0410 \u0432\u043e\u0442 \u0438 \u043b\u0430\u0431\u0440\u0430\u0442\u043e\u0440\u0438\u044f, ".concat(n,"!"),description:"\u041d\u0443 \u0447\u0442\u043e \u0436\u0435, \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0443 \u043d\u0430\u0441 \u0443\u0440\u043e\u043a \u043f\u043e \u044d\u043a\u0441\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u0442\u0430\u043c \u0441 \u043d\u0435\u043e\u0440\u0433\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0445\u0438\u043c\u0438\u0435\u0439! \u0412\u044b \u0435\u0435 \u0432\u0441\u0435 \u0443\u0436\u0435 \u0437\u043d\u0430\u0435\u0442\u0435, \u0442\u0430\u043a \u0447\u0442\u043e \u043d\u0430\u0434\u0435\u044e\u0441\u044c, \u0432\u044b \u043d\u0435 \u0441\u043f\u0430\u043b\u0438\u0442\u0435 \u0448\u043a\u043e\u043b\u0443:)\n             \u041a\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043f\u0440\u043e\u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u043a\u0430\u043a \u043f\u0440\u043e\u0442\u0435\u043a\u0430\u044e\u0442 \u0440\u0435\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0434\u043e\u0441\u043a\u0435? \u041e \u043c\u043e\u0436\u0435\u0442 ".concat(n," \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u043e\u043a\u0430\u0436\u0435\u0442?")}),Object(g.jsx)(v,{title:"\u041d\u0430\u0447\u0430\u0442\u044c",handler:function(){i(!1),console.log(11111111),setTimeout((function(){e()}),1e3)}})]})},q=(i(78),function(t){t.stage;var e=t.children;return Object(g.jsx)("div",{className:"MainContainer",children:e})}),H=(i(79),function(t){var e=t.theme,i=t.children;return Object(g.jsx)("div",{className:"Background ".concat(e),children:i})}),P=(i(80),i(81),{arrow:i.p+"static/media/arrow.87f695ec.svg",checkmark:i.p+"static/media/checkmark.21ebb7ec.svg",recycle:i.p+"static/media/recycle.234b1bb4.svg",cross:i.p+"static/media/cross.4127f50e.svg"}),B=function(t){var e=t.icon,i=t.size,n=void 0===i?"sm":i;return Object(g.jsx)("img",{className:"Icon".concat(n),src:P[e]})},V={marginLeft:"12px"},Z=function(t){var e=t.level,i=t.title;return Object(g.jsxs)("div",{className:"StatusTitle",children:[Object(g.jsx)(B,{size:"md",icon:"error"==e?"cross":"checkmark"}),Object(g.jsx)("h1",{style:V,className:"error"==e?"Error":"Success",children:i})]})},J=(i(82),function(t){var e=t.value,i=t.size,n=void 0===i?"sm":i,s=t.level;return Object(g.jsx)("div",{className:"Title ".concat(n," ").concat(s),children:e})}),U=(i(83),function(t){var e=t.children,i=t.direction;return Object(g.jsx)("div",{className:"FlexWrapper".concat(null!==i&&void 0!==i?i:"Horizontal"),children:e})}),W={gridTemplateColumns:"50% 50%",gridTemplateRows:"20% 60% 20%",height:"70%"},G=function(t){t.score;var e=t.prev,i=t.setFlag,n=Object(d.d)(F),s=Object(d.d)(R),o=Object(d.d)(_);return Object(g.jsxs)(p,{style:W,children:[Object(g.jsx)(m,{style:{gridColumnStart:1,gridColumnEnd:3},children:Object(g.jsx)(j,{isFlex:!0,children:Object(g.jsx)(Z,{title:"error"==n?"\u042d\u0442\u0430\u043f \u043f\u0440\u043e\u0432\u0430\u043b\u0435\u043d":"\u042d\u0442\u0430\u043f \u043f\u0440\u043e\u0439\u0434\u0435\u043d!",level:"error"==n?"error":"success"})})}),Object(g.jsx)(m,{style:{gridRowStart:2,gridRowEnd:3},children:Object(g.jsxs)(j,{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430. ".concat(o),children:[Object(g.jsxs)(U,{children:[Object(g.jsx)(J,{size:"lg",value:"\u0412\u0430\u0448 \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u044b\u0439 \u0441\u0447\u0435\u0442"}),Object(g.jsx)(J,{size:"lg",value:s.score})]}),Object(g.jsxs)(U,{children:[Object(g.jsx)(J,{size:"lg",level:"Success",value:"\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0445 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(g.jsx)(J,{level:"Success",size:"lg",value:s.success})]}),Object(g.jsxs)(U,{children:[Object(g.jsx)(J,{size:"lg",level:"Error",value:"\u041f\u0440\u043e\u0432\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(g.jsx)(J,{level:"Error",size:"lg",value:s.error})]}),Object(g.jsxs)(U,{direction:"Vertical",children:[Object(g.jsx)(J,{size:"giga",value:s.last,level:s.last>0?"Success":"Error"}),Object(g.jsx)(J,{size:"lg",value:"\u041d\u0430 \u044d\u0442\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438"})]})]})}),Object(g.jsx)(m,{style:{gridRowStart:2,gridRowEnd:4},children:Object(g.jsx)(j,{title:"error"===n?"\u041d\u0435 \u043e\u0442\u0447\u0430\u0438\u0432\u0430\u0439\u0441\u044f!":"\u041e\u0442\u043b\u0438\u0447\u043d\u043e!",description:"error"===n?"\u041e\u0442\u043a\u0440\u043e\u0439 \u0443\u0447\u0435\u0431\u043d\u0438\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435... ".concat(o,", \u0434\u0430 \u0442\u044b \u0438\u0442\u0430\u043a \u0432\u0441\u0435 \u0437\u043d\u0430\u0435\u0448\u044c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0435 \u0440\u0430\u0437. \u042d\u0442\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0441\u0442\u044c."):"\u0425\u043e\u0440\u043e\u0448\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430, ".concat(o,". \u0420\u0435\u0448\u0438\u0448\u044c \u0435\u0449\u0435 \u043f\u0430\u0440\u0443 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432?"),children:Object(g.jsx)(U,{direction:"Vertical",children:Object(g.jsx)(b,{style:{width:"300px"},image:x("kurisu_finger")})})})}),Object(g.jsx)(v,{title:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u044d\u0442\u0430\u043f",handler:function(){i(!1),setTimeout((function(){e()}),1e3)}})]})},X=i(8),Y=i(10),Q=i(0),K=i(1),$=i(9),tt=i(2),et=i(3),it=i(7),nt=i(23),st=i(15),ot=i.n(st),ct={fov:75,cameraZ:75,xyCoef:50,zCoef:10,lightIntensity:.9,ambientColor:0,light1Color:920028,light2Color:1888737,light3Color:1622060,light4Color:15612879},lt=function(t){Object(tt.a)(i,t);var e=Object(et.a)(i);function i(t){var n;return Object(Q.a)(this,i),n=e.call(this,t),console.log(t),n.initScene=n.initScene.bind(Object($.a)(n)),n.initLights=n.initLights.bind(Object($.a)(n)),n.animatePlane=n.animatePlane.bind(Object($.a)(n)),n.animateLights=n.animateLights.bind(Object($.a)(n)),n.updateLightsColors=n.updateLightsColors.bind(Object($.a)(n)),n.renderer=new it.l({antialias:!0,alpha:!0}),n.renderer.setSize(300,300),n.camera=new it.i(ct.fov),n.camera.position.z=ct.cameraZ,n.camera.aspect=1,n.simplex=new nt.a,n.animate=n.animate.bind(Object($.a)(n)),n}return Object(K.a)(i,[{key:"initScene",value:function(){var t=this;this.scene=new it.k,this.initLights(),this.group=new it.e;var e=new it.d(15,15,30,32);this.waters=[];var i=new it.h({metalness:1,roughness:.2,refractionRatio:.95,transparent:!0,opacity:.1,transmission:.1,side:it.a,clearcoat:1,clearcoatRoughness:1});this.middle=new it.f(e,i),this.group.add(this.middle),this.scene.add(this.group),this.props.props.layers.forEach((function(e,i){return t.createLayer(e,i)})),this.group.position.y=-20,this.group.position.z=40,console.log(this.props),this.camera.position.z=90,this.camera.position.y=-9,this.level_=0,this.mount.appendChild(this.renderer.domElement)}},{key:"createLayer",value:function(t,e){var i=new it.g({color:t.properties.color,transparent:!0,opacity:t.properties.opacity}),n=new it.c(14.9-.01*e,14.9-.01*e,5+2*e,115);this.waters.push(new it.f(n,i)),this.waters[e].position.y=-12,this.group.add(this.waters[e])}},{key:"componentDidUpdate",value:function(t){cancelAnimationFrame(this.frameId),this.initScene(),this.animate()}},{key:"componentDidMount",value:function(){console.log(124),this.initScene(),this.animate()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameId),this.mount.removeChild(this.renderer.domElement)}},{key:"animatePlane",value:function(){var t=this;this.waters.forEach((function(e,i){var n=t.waters[i].geometry.attributes.position.array,s=2e-4*Date.now();if(0===i){for(var o=n.length/2;o<n.length;o+=3)n[o+1]=3*t.simplex.noise4D(n[o]/50,n[o+1]/50,s,4.34)+5;for(var c=0;c<n.length/8+3;c+=3)n[c+1]=n[n.length/2+c+1];for(var l=261;l<347;l+=3)n[l+1]=n[n.length/2+l+1]}else{for(var r=t.waters[i-1].geometry.attributes.position.array,a=0;a<n.length/4+3;a+=3)n[a+1]=r[n.length/2+a+1];for(var h=0;h<r.length;h+=3)n[h+1]=r[h+1]+5}t.waters[i].geometry.attributes.position.needsUpdate=!0,t.waters[i].geometry.computeBoundingSphere()}))}},{key:"initLights",value:function(){var t=-20,e=500;this.light1=new it.j(ct.light1Color,ct.lightIntensity,e),this.light1.position.set(0,t,90),this.scene.add(this.light1),this.light2=new it.j(ct.light2Color,ct.lightIntensity,e),this.light2.position.set(0,20,-90),this.scene.add(this.light2),this.light3=new it.j(ct.light3Color,ct.lightIntensity,e),this.light3.position.set(90,t,0),this.scene.add(this.light3),this.light4=new it.j(ct.light4Color,ct.lightIntensity,e),this.light4.position.set(-90,t,0),this.scene.add(this.light4)}},{key:"animateLights",value:function(){var t=.001*Date.now(),e=50;this.light1.position.x=Math.sin(.1*t)*e,this.light1.position.z=Math.cos(.2*t)*e,this.light2.position.x=Math.cos(.3*t)*e,this.light2.position.z=Math.sin(.4*t)*e,this.light3.position.x=Math.sin(.5*t)*e,this.light3.position.z=Math.sin(.6*t)*e,this.light4.position.x=Math.sin(.7*t)*e,this.light4.position.z=Math.cos(.8*t)*e}},{key:"updateLightsColors",value:function(){ct.light1Color=ot.a.random().hex(),ct.light2Color=ot.a.random().hex(),ct.light3Color=ot.a.random().hex(),ct.light4Color=ot.a.random().hex(),this.light1.color=new it.b(ct.light1Color),this.light2.color=new it.b(ct.light2Color),this.light3.color=new it.b(ct.light3Color),this.light4.color=new it.b(ct.light4Color)}},{key:"animate",value:function(){this.frameId=requestAnimationFrame(this.animate),this.animatePlane(),this.animateLights(),this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var t=this;return Object(g.jsx)("div",{style:{width:"300px",height:"300px"},ref:function(e){t.mount=e}})}}]),i}(c.Component),rt=i(56),at=i.n(rt),ht=(i(89),{fov:75,cameraZ:75,xyCoef:50,zCoef:10,lightIntensity:.9,ambientColor:0,light1Color:920028,light2Color:1888737,light3Color:1622060,light4Color:15612879}),ut=function(t){Object(tt.a)(i,t);var e=Object(et.a)(i);function i(t){var n;return Object(Q.a)(this,i),(n=e.call(this,t)).props=t.props,n.initScene=n.initScene.bind(Object($.a)(n)),n.initLights=n.initLights.bind(Object($.a)(n)),n.animatePlane=n.animatePlane.bind(Object($.a)(n)),n.animateLights=n.animateLights.bind(Object($.a)(n)),n.updateLightsColors=n.updateLightsColors.bind(Object($.a)(n)),n.renderer=new it.l({antialias:!0,alpha:!0}),n.renderer.setSize(100,100),n.camera=new it.i(ht.fov),n.camera.position.z=ht.cameraZ,n.camera.aspect=1,n.simplex=new nt.a,n.animate=n.animate.bind(Object($.a)(n)),n}return Object(K.a)(i,[{key:"initScene",value:function(){var t,e;this.scene=new it.k,this.initLights(),this.group=new it.e;var i=new it.d(10,15,30,32),n=new it.h({metalness:1,roughness:.2,refractionRatio:.95,transparent:!0,opacity:.1,transmission:.1,side:it.a,clearcoat:1,clearcoatRoughness:1}),s=new it.h({color:this.props.props.color});console.log(null===(t=this.props)||void 0===t?void 0:t.color);var o=new it.g({color:this.props.props.color,transparent:!0,opacity:null===(e=this.props)||void 0===e?void 0:e.props.opacity});this.middle=new it.f(i,n),this.group.add(this.middle),this.scene.add(this.group),console.log(this.props);var c=new it.c(12.9,14.9,10,115);this.thing=new it.f(c,"liquid"===this.props.props.type_?o:s),this.group.add(this.thing),this.thing.position.y=-10,this.group.position.y=-20,this.group.position.z=40,console.log(this.props),this.camera.position.z=90,this.camera.position.y=-9,this.mount.appendChild(this.renderer.domElement)}},{key:"componentDidMount",value:function(){this.simplex=new nt.a,this.initScene(),this.animate()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameId),this.mount.removeChild(this.renderer.domElement)}},{key:"animatePlane",value:function(){console.log(1);for(var t=this.thing.geometry.attributes.position.array,e=2e-4*Date.now(),i=t.length/2;i<t.length;i+=3)t[i+1]="liquid"===this.props.props.type_?3*this.simplex.noise4D(t[i]/50,t[i+1]/50,e,4.34)+5:3*this.simplex.noise3D(t[i]/50,t[i+1]/50,t[i+2]/50)+5;for(var n=0;n<t.length/8+3;n+=3)t[n+1]=t[t.length/2+n+1];for(var s=261;s<347;s+=3)t[s+1]=t[t.length/2+s+1];this.thing.geometry.attributes.position.needsUpdate=!0,this.thing.geometry.computeBoundingSphere()}},{key:"initLights",value:function(){var t=-20,e=500;this.light1=new it.j(ht.light1Color,ht.lightIntensity,e),this.light1.position.set(0,t,90),this.scene.add(this.light1),this.light2=new it.j(ht.light2Color,ht.lightIntensity,e),this.light2.position.set(0,20,-90),this.scene.add(this.light2),this.light3=new it.j(ht.light3Color,ht.lightIntensity,e),this.light3.position.set(90,t,0),this.scene.add(this.light3),this.light4=new it.j(ht.light4Color,ht.lightIntensity,e),this.light4.position.set(-90,t,0),this.scene.add(this.light4)}},{key:"animateLights",value:function(){var t=.001*Date.now(),e=50;this.light1.position.x=Math.sin(.1*t)*e,this.light1.position.z=Math.cos(.2*t)*e,this.light2.position.x=Math.cos(.3*t)*e,this.light2.position.z=Math.sin(.4*t)*e,this.light3.position.x=Math.sin(.5*t)*e,this.light3.position.z=Math.sin(.6*t)*e,this.light4.position.x=Math.sin(.7*t)*e,this.light4.position.z=Math.cos(.8*t)*e}},{key:"updateLightsColors",value:function(){ht.light1Color=ot.a.random().hex(),ht.light2Color=ot.a.random().hex(),ht.light3Color=ot.a.random().hex(),ht.light4Color=ot.a.random().hex(),this.light1.color=new it.b(ht.light1Color),this.light2.color=new it.b(ht.light2Color),this.light3.color=new it.b(ht.light3Color),this.light4.color=new it.b(ht.light4Color)}},{key:"animate",value:function(){this.frameId=requestAnimationFrame(this.animate),this.animatePlane(),this.animateLights(),this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var t=this;return Object(g.jsx)("div",{style:{width:"100px",height:"100px"},ref:function(e){t.mount=e}})}}]),i}(c.Component),dt=function(t){var e=t.id,i=t.title,n=t.type,s=t.properties,o=t.select,l=(t.deselect,t.setMouse),r=t.setDragValue,a=t.drag,u=t.isSelected,d=Object(c.useState)(!0),j=Object(h.a)(d,2),p=j[0],m=j[1];return u&&p&&m(!1),u||p||m(!0),console.log(s),Object(g.jsx)(at.a,{onStart:function(){o(!0),r(e),console.log(111),m(!0)},onStop:function(){o(!1),console.log(),m(!1)},children:Object(g.jsxs)("div",{className:"DragItem Block",onTouchMove:function(t){console.log(t),a===e&&l(t.changedTouches[0].clientX,t.changedTouches[0].clientY)},onMouseMove:function(t){console.log(t),a===e&&l(t.clientX,t.clientY)},children:[Object(g.jsx)("div",{className:"DragItemTitle",children:i}),p&&Object(g.jsx)(ut,{props:{type_:n,color:s.color,opacity:s.opacity}})]})})},gt=(i(90),function(t){var e=t.items,i=t.select,n=t.deselect,s=t.setMouse,o=t.setDragValue,c=t.drag,l=t.bottle;return console.log(e),Object(g.jsx)("div",{className:"DragField",children:Object.entries(e).map((function(t){return Object(g.jsx)(dt,{drag:c,id:t[0],isSelected:l[t[0]],setDragValue:o,setMouse:s,select:i,deselect:n,title:t[1].title,type:t[1].type,properties:t[1].properties})}))})}),jt=(i(91),function(t){var e=t.mouse,i=t.setHoverFlag,n=t.drag,s=t.children,o=Object(c.useRef)(),l=Object(c.useState)(),r=Object(h.a)(l,2),a=r[0],u=r[1],d=Object(c.useState)(!1),j=Object(h.a)(d,2),p=(j[0],j[1]);Object(c.useEffect)((function(){u(o.current.getBoundingClientRect())}),[n]);return Object(c.useEffect)((function(){n&&((null===e||void 0===e?void 0:e.x)<(null===a||void 0===a?void 0:a.right)&&(null===e||void 0===e?void 0:e.x)>(null===a||void 0===a?void 0:a.left)&&(null===e||void 0===e?void 0:e.y)>(null===a||void 0===a?void 0:a.top)&&(null===e||void 0===e?void 0:e.y)<(null===a||void 0===a?void 0:a.bottom)?(console.log(33333),i(!0),p(!0)):(i(!1),p(!1),console.log(22222222)))}),[n,e]),Object(g.jsx)("div",{className:"DropField",ref:o,children:s})}),pt=(i(92),function(t){var e=t.title,i=t.items;return Object(g.jsxs)("div",{className:"Task",children:[Object(g.jsx)(J,{value:e,size:"lg"}),i.map((function(t){return Object(g.jsx)("div",{className:"TaskItem",children:Object(g.jsx)(J,{value:t,size:"lg"})})}))]})}),mt=(i(93),{gridTemplateColumns:"60% 40%",gridTemplateRows:"20% 70% 15%",height:"70%"}),bt=Object(d.b)((function(t,e){return console.log(t),{level:L(t),statistic:R(t)}}))((function(t){t.status,t.score;var e=t.level,i=t.setFlag,n=t.next,s=t.statistic,o=Object(d.c)(),l=Object(c.useState)({}),r=Object(h.a)(l,2),a=r[0],u=r[1],b=Object(c.useState)(!1),f=Object(h.a)(b,2),O=f[0],x=f[1],y=Object(c.useState)(!1),S=Object(h.a)(y,2),C=S[0],w=S[1],k=Object(c.useState)(!1),N=Object(h.a)(k,2),E=N[0],z=N[1],M=Object(c.useState)(!1),_=Object(h.a)(M,2),F=_[0],L=_[1],R=Object(c.useState)({x:0,y:0}),D=Object(h.a)(R,2),A=D[0],q=D[1],H=Object(c.useCallback)((function(t,e){q({x:t,y:e})}),[]);console.log(a);var P=function(){i(!1),setTimeout((function(){o(T("error")),s.error++,s.score+=e.pointsFail,s.last=e.pointsFail,localStorage.setItem("statistic",JSON.stringify(s)),o(I(s)),n()}),1e3)};Object(c.useEffect)((function(){console.log("errorCheck"),console.log(a),e.errors.forEach((function(t){for(var e=!0,i=0;i<t.length;i++)if(!a[t[i]]){e=!1;break}e&&(x(!0),setTimeout((function(){P()}),3e3))}))}),[a]),Object(c.useEffect)((function(){if(console.log(C,F),!E)if(C)F&&!a[F]&&(u(Object(Y.a)(Object(Y.a)({},a),{},Object(X.a)({},F,e.components[F]))),L(!1));else if(!E&&F){var t=Object.assign({},a);delete t[F],u(t),L(!1)}}),[E]);var B=Object(c.useCallback)((function(){z(!1)}),[]);return Object(g.jsxs)(p,{style:mt,children:[Object(g.jsx)(m,{style:{gridColumnStart:1,gridColumnEnd:3},children:Object(g.jsx)(j,{isFlex:!0,children:Object(g.jsx)(pt,{title:e.task.title,items:e.task.items})})}),Object(g.jsx)(j,{title:"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b",children:Object(g.jsx)(gt,{bottle:a,setMouse:H,select:z,setDragValue:L,deselect:B,drag:F,items:e.components})}),Object(g.jsx)(m,{style:{gridRowStart:2,gridRowEnd:4,gridColumnStart:2},children:Object(g.jsx)(j,{title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",shake:O,children:Object(g.jsx)(jt,{mouse:A,drag:E,setHoverFlag:w,children:Object(g.jsx)(lt,{props:{layers:Object.values(a)}})})})}),Object(g.jsx)(v,{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u0442\u044c",handler:function(){var t=!0;e.success.length===Object.keys(a).length?e.success.forEach((function(e){a[e]||(t=!1)})):t=!1,t?(i(!1),setTimeout((function(){o(T("success")),localStorage.setItem("statistic",JSON.stringify(s)),s.success++,s.last=e.pointsSuccess,s.score+=e.pointsSuccess,o(I(s)),n()}),1e3)):P()}})]})})),vt=(i(94),function(t){var e=t.text,i=t.mode,n=t.setAlert;return Object(c.useEffect)((function(){setTimeout((function(){n(-1)}),5e3)}),[]),Object(g.jsxs)("div",{className:"Notification",children:[Object(g.jsx)("div",{className:"Notification".concat(i)}),Object(g.jsx)("div",{className:"NotificationText",children:e})]})}),ft=[{components:{1:{title:"Ca(OH)2",type:"solid",properties:{color:13757784,opacity:1}},2:{title:"HNO3",type:"liquid",properties:{color:8907501,opacity:.4}},3:{title:"H2SO4",type:"liquid",properties:{color:12015853,opacity:.5}},4:{title:"Ca",type:"solid",properties:{color:15571300,opacity:1}}},task:{title:"\u0427\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043c\u0435\u0448\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c: ",items:["CaSO4 +","H2O"]},pointsSuccess:50,pointsFail:-25,success:[1,3],errors:[[2,3]]},{components:{1:{title:"Zn",type:"solid",properties:{color:13757784,opacity:1}},2:{title:"HCl",type:"liquid",properties:{color:8907501,opacity:.4}},3:{title:"Cl",type:"liquid",properties:{color:12015853,opacity:.5}},4:{title:"ZnCl",type:"solid",properties:{color:15571300,opacity:1}}},task:{title:"\u0427\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043c\u0435\u0448\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c: ",items:["ZnCl2 +","H2"]},pointsSuccess:50,pointsFail:-25,success:[1,2],errors:[[2,3]]},{components:{1:{title:"Fe",type:"solid",properties:{color:13757784,opacity:1}},3:{title:"FeCl",type:"liquid",properties:{color:12015853,opacity:.5}},4:{title:"CuSO3",type:"solid",properties:{color:15571300,opacity:1}},5:{title:"Zn",type:"solid",properties:{color:8907501,opacity:.4}},7:{title:"CuSO4",type:"solid",properties:{color:8907501,opacity:.4}}},task:{title:"\u0427\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043c\u0435\u0448\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c: ",items:["FeSO4 +","Cu"]},pointsSuccess:50,pointsFail:-25,success:[1,7],errors:[]}],Ot=Object(d.b)((function(t,e){var i,n;return{clientId:null===(i=t.default)||void 0===i?void 0:i.clientId,clientName:null===(n=t.default)||void 0===n?void 0:n.clientName,stage:t.default.stage,status:t.default.status,level_prev:t.default.level_num}}),(function(t){return{next:function(){return t({type:C})},prev:function(){return t({type:w})}}}))((function(t){var e=t.stage,i=t.prev,n=t.next,s=t.status,o=t.level_prev,l=Object(c.useState)(!1),r=Object(h.a)(l,2),a=r[0],j=r[1],p=Object(c.useState)("Intro"),m=Object(h.a)(p,2),b=m[0],v=m[1],f=Object(c.useState)(!1),O=Object(h.a)(f,2),x=O[0],y=O[1],S=Object(d.c)(),C=[Object(g.jsx)(M,{next:n,setFlag:j}),Object(g.jsx)(A,{next:n,setFlag:j}),Object(g.jsx)(bt,{setFlag:j,next:n}),Object(g.jsx)(G,{prev:i,setFlag:j})];return Object(c.useEffect)((function(){console.log(a),j(!0);var t=function(t){var e=t;for(console.log(199999999);e===t;)e=Math.floor(100*Math.random())%ft.length;return{level:ft[e],level_num:e}}(o),i=t.level,n=t.level_num;S(function(t,e){return{type:N,level:t,level_num:e}}(i,n)),console.log(a),1===e&&v("Work"),y(e)}),[e]),Object(g.jsxs)(H,{theme:b,children:[Object(g.jsx)(u.a,{in:a,unmountOnExit:!0,timeout:1e3,classNames:"MainContainer",children:Object(g.jsx)(q,{children:C[e]})}),Object(g.jsx)(u.a,{in:2===x,unmountOnExit:!0,timeout:1e3,classNames:"Notification",children:Object(g.jsx)(vt,{mode:"Info",text:'\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0432 \u043f\u0440\u043e\u0431\u0438\u0440\u043a\u0430\u0445 \u0432 \u043f\u043e\u043b\u0435 "\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442". \u0427\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 - \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u0442\u044c".',setAlert:y})}),Object(g.jsx)(u.a,{in:3===x&&"error"===s,unmountOnExit:!0,timeout:1e3,classNames:"Notification",children:Object(g.jsx)(vt,{mode:"Question",text:"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043d\u0435 \u0442\u043e\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u043b\u0438 \u0441\u043c\u0435\u0448\u0430\u043b\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0442 \u043e\u043f\u0430\u0441\u043d\u0443\u044e \u0440\u0435\u0430\u043a\u0446\u0438\u044e",setAlert:y})}),Object(g.jsx)(u.a,{in:3===x&&"error"!==s,unmountOnExit:!0,timeout:1e3,classNames:"Notification",children:Object(g.jsx)(vt,{mode:"Info",text:"\u041e\u0442\u043b\u0438\u0447\u043d\u043e! \u0422\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446!",setAlert:y})})]})})),xt={stage:localStorage.getItem("clientName")?1:0,clientName:null!==(s=localStorage.getItem("clientName"))&&void 0!==s?s:"",level_num:1,level:{},statistic:null!==(o=JSON.parse(localStorage.getItem("statistic")))&&void 0!==o?o:{score:0,success:0,error:0,last:0}},yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(Y.a)(Object(Y.a)({},t),{},{clientName:e.clientName});case E:return Object(Y.a)(Object(Y.a)({},t),{},{statistic:e.statistic});case N:return Object(Y.a)(Object(Y.a)({},t),{},{level:e.level,level_num:e.level_num});case w:return Object(Y.a)(Object(Y.a)({},t),{},{stage:t.stage-1});case C:return Object(Y.a)(Object(Y.a)({},t),{},{stage:t.stage+1});case k:return Object(Y.a)(Object(Y.a)({},t),{},{status:e.status});default:return t}},St=i(25),Ct=i(173),wt=i(59),kt=function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(St.b)(Object(Y.a)(Object(Y.a)({form:Ct.a},t),n))}(),e=Object(St.c)(Object(St.a)(wt.a));return Object(St.d)(t,e)}();var Nt=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(d.a,{store:kt,children:Object(g.jsx)(Ot,{})})})};a.a.render(Object(g.jsx)(l.a.StrictMode,{children:Object(g.jsx)(Nt,{})}),document.getElementById("root"))},42:function(t,e,i){},65:function(t,e,i){},66:function(t,e,i){},72:function(t,e,i){},74:function(t,e,i){},75:function(t,e,i){},76:function(t,e,i){},77:function(t,e,i){},78:function(t,e,i){},79:function(t,e,i){},80:function(t,e,i){},81:function(t,e,i){},82:function(t,e,i){},83:function(t,e,i){},89:function(t,e,i){},90:function(t,e,i){},91:function(t,e,i){},92:function(t,e,i){},93:function(t,e,i){},94:function(t,e,i){}},[[170,1,2]]]);
//# sourceMappingURL=main.428e3d2e.chunk.js.map